# This was auto-generated by cppack

MAKEFLAGS += -j4

NAME = cppack

CURRENT_BUILD_SETTING = debug

SOURCE_PATH = src
BUILD_PATH = build

COMPLETE_BUILD_PATH = $(BUILD_PATH)/$(CURRENT_BUILD_SETTING)
OBJECT_PATH = $(COMPLETE_BUILD_PATH)/obj

BIN_PATH = $(COMPLETE_BUILD_PATH)/$(NAME)

SOURCES = $(shell find $(SOURCE_PATH) -name "*.cpp")
OBJECTS = $(addprefix $(OBJECT_PATH)/, $(patsubst $(SOURCE_PATH)/%, %, $(SOURCES:.cpp=.o)))

CPP_COMPILER = clang++
CPP_VERSION = -std=c++20

CPP_INCLUDE_PATHS = -Isrc -Ithird_party/CLI11/include -Ithird_party/nlohmann_json/include
CPP_LIBRARY_PATHS = 
CPP_LIBRARIES = 
CPP_OPTIMIZATION = -Og
CPP_WARNING = -Wall
CPP_DEFINES = 
CPP_ADDITIONAL_OPTIONS = 

CPP_COMPILER_OPTIONS = $(CPP_VERSION) $(CPP_INCLUDE_PATHS) $(CPP_OPTIMIZATION) $(CPP_WARNING) $(CPP_DEFINES) $(CPP_ADDITIONAL_OPTIONS)
CPP_LINKER_OPTIONS = $(CPP_LIBRARIES_PATHS) $(CPP_LIBRARIES)


.PHONY:
build: $(BIN_PATH)


.PHONY:
run: 
	@ echo Running...
	@ $(BIN_PATH)


$(BIN_PATH): $(OBJECTS)
	@ echo Linking...
	@ $(CPP_COMPILER) $(OBJECTS) -o $(BIN_PATH) $(CPP_LINKER_OPTIONS)


$(OBJECTS): $(OBJECT_PATH)/%.o: $(SOURCE_PATH)/%.cpp
	@ echo Compiling $<
	@ mkdir $(dir $@) -p
	@ $(CPP_COMPILER) -c $< -o $@ $(CPP_COMPILER_OPTIONS)
